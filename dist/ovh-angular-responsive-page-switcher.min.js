/*! ovh-angular-responsive-page-switcher - 1.1.0 - 2017-06-29 */
"use strict";angular.module("ovh-angular-responsive-page-switcher",["matchmedia-ng","ngAnimate"]),angular.module("ovh-angular-responsive-page-switcher").directive("responsiveSwitchPage",function(){return{restrict:"A",require:"^responsiveSwitch",scope:!0,transclude:!0,replace:!0,template:'<div class="responsive-switch-page"><div class="responsive-switch-page-wrapper" data-ng-if="active || (getResponsiveSwitchMode() === \'sidebyside\' && getResponsiveSwitchActivePage() === 1)"><div class="responsive-switch-page-content" data-ng-transclude></div></div></div>',compile:function(){return{pre:function(a){a.active=!1},post:function(a,b,c,d){a.pageIndex=d.addPage(a),a.isMoveToLeft=function(){var b=d.getLastActivePage();return void 0!==b&&"switch"===d.getDisplayMode()?b<=a.pageIndex&&d.getActivePage()>a.pageIndex:!1},a.isMoveToRight=function(){var b=d.getLastActivePage();return void 0!==b&&"switch"===d.getDisplayMode()?b>=a.pageIndex&&d.getActivePage()<a.pageIndex:!1},a.isMoveFromLeft=function(){var b=d.getLastActivePage();return void 0!==b&&"switch"===d.getDisplayMode()?b>a.pageIndex&&d.getActivePage()===a.pageIndex:!1},a.isMoveFromRight=function(){var b=d.getLastActivePage();return void 0!==b&&"switch"===d.getDisplayMode()?b<a.pageIndex&&d.getActivePage()===a.pageIndex:!1},a.isPageOnForeGround=function(){var b=d.getLastActivePage();return void 0!==b&&"sidebyside"===d.getDisplayMode()?b===a.pageIndex:!1},a.isMoveRightFromMiddle=function(){var b=d.getLastActivePage();return void 0!==b&&"sidebyside"===d.getDisplayMode()?b<a.pageIndex&&d.getActivePage()===a.pageIndex:!1},a.getResponsiveSwitchMode=function(){return d.getDisplayMode()},a.getResponsiveSwitchActivePage=function(){return d.getActivePage()}}}}}}),angular.module("ovh-angular-responsive-page-switcher").controller("responsiveSwitchController",["$scope",function(a){this.pages=[];var b;this.addPage=function(a){return this.pages.push(a)-1},this.setActivePage=function(a){this.pages.length>a&&(angular.forEach(this.pages,function(a,c){a.active&&(a.active=!1,b=c)}),this.pages[a].active=!0)},this.getTotalPageWidth=function(){return this.pages.length*a.pageWidth},this.getLastActivePage=function(){return b},this.getDisplayMode=function(){return a.responsiveSwitchPageMode},this.getActivePage=function(){return a.activePageIndex}}]),angular.module("ovh-angular-responsive-page-switcher").directive("responsiveSwitch",["$rootScope","$timeout","matchmedia",function(a,b,c){return{restrict:"A",controller:"responsiveSwitchController",scope:!0,transclude:!0,replace:!0,template:"<div class=\"responsive-switch\" data-ng-class=\"{ 'responsive-switch_mobile' : isMobile, 'responsive-switch-sidebyside' : responsiveSwitchPageMode === 'sidebyside', 'responsive-switch-switch' : responsiveSwitchPageMode === 'switch', 'responsive-switch-expand' : responsiveSwitchPageMode === 'sidebyside' && activePageIndex >= 1 }\" data-ng-transclude></div>",link:function(d,e,f,g){function h(){d.isMobile=c.is(l);var a=e?e[0].getBoundingClientRect().left:0,b=$(window).innerWidth();d.responsiveSwitchPageMode=d.isMobile?"switch":m?m:a+g.getTotalPageWidth()<b?"sidebyside":"switch"}function i(){k(),j(),b(function(){h()},99),a.$broadcast("responsive.switch.created",{getDisplayMode:function(){return d.responsiveSwitchPageMode},getActivePage:function(){return d.activePageIndex}})}function j(){d.$watch("attr.responsiveSwitchActivePageIndex",function(a,b){d.activePageIndex=void 0!==b?parseInt(a,10):0,g.setActivePage(d.activePageIndex)})}function k(){var a=$(window),b=_.debounce(function(){h(),d.$apply()},99);a.on("resize",b),d.$on("$destroy",function(){a.off("resize",b)})}d.attr=f,d.isMobile=!1,d.activePageIndex=f.responsiveSwitchActivePageIndex?parseInt(f.responsiveSwitchActivePageIndex,10):0,d.pageWidth=f.responsiveSwitchPagesWidth?parseInt(f.responsiveSwitchPagesWidth,10):0;var l=f.responsiveSwitchMatchMedia||"(max-width: 980px)",m=f.responsiveSwitchForceMode;i()}}}]);